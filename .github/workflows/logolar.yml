name: logolar

on:
  workflow_dispatch: # Actions sekmesinden manuel başlatmak için

jobs:
  tasi-ve-temizle:
    runs-on: ubuntu-latest
    steps:
      - name: Repoyu Kopyala
        uses: actions/checkout@v3

      - name: Klasör Kontrol ve Taşıma
        run: |
          # logolar klasörü yoksa oluştur
          mkdir -p logolar
          
          # Ana dizindeki png dosyalarını bul ve klasöre taşı
          # Eğer dosya yoksa hata vermemesi için "if" kontrolü ekledim
          if ls *.png 1> /dev/null 2>&1 || ls *.PNG 1> /dev/null 2>&1; then
            mv *.png logolar/ 2>/dev/null || true
            mv *.PNG logolar/ 2>/dev/null || true
            echo "PNG dosyaları taşındı."
          else
            echo "Taşınacak PNG dosyası bulunamadı."
          fi

      - name: Değişiklikleri Commit Et
        run: |
          git config --local user.email "github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git add .
          # Sadece değişiklik varsa commit yap (hata almamak için)
          git diff --quiet && git diff --staged --quiet || git commit -m "Logolar klasöre taşındı"
          git push
          
